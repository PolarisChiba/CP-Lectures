---
tags: 清大競程沙龍
---

# 網路流

大多數在競程中出現的網路流題目的圖都是 DAG，或者可以視作 DAG。
基本上，網路流問題可以從三個角度下手：最大流、最小割、套用經典問題。
其中經典問題包含但不僅限於：

* 二分圖最大匹配 = 二分圖最小點覆蓋
* DAG 路徑覆蓋（分為點互斥、與點不互斥）
* 最大權閉合子圖

## 基礎建圖

### 圓桌問題

有 $N$ 個國家參加一場會議，第 $i$ 個國家派出了 $r_i$ 位外交官。
會議中共有 $M$ 張餐桌，第 $i$ 張餐桌可以容納 $c_i$ 位官員。
請問是否有種入座方案，使得任何來自同個國家的外交官不會坐在同張餐桌？
如果可以，請給出方案。

$1\le N\le 150$
$1\le M\le 270$
$1\le r_i,\ c_i\le 1000$

### 魔術球問題

有 $N$ 根柱子，要按照以下規則「依序」放入編號為 $1,2,3,\cdots$ 的球：
* 球只能從柱子的最上端放下
* 任何柱子上，任意相鄰兩顆球上的編號加總必須是平方數

請問至多可以放多少顆球？

$1\le N\le 55$

### 航空路線問題

給定一張航空圖，頂點代表城市、邊代表城市間的直通雙向航線。
保證不存在兩個城市在同一條經線上。
請找出滿足以下條件且途經城市數量最多的旅行路線：
1. 從最西邊的城市出發，由西向東經過一些城市到達最東邊的城市
2. 再從最東邊的城市出發，由東向西回到最西邊的城市
3. 除了起點、終點，其他城市至多拜訪一次
如果無解請輸出 -1。

$1\le V \le 100$
$1\le E \le V\times (V-1) / 2$

## Some trick

### 方格取數問題

給定一個 $N\times M$ 的帶權方格，要選取一些格子。
請問在選出的格子間兩兩不相鄰的條件下，選出的權重和最多為多少？

$1\le N, M\le 100$
格子的權重 $\le 10^5$

### 星際轉移問題

有 $N$ 個太空站在地球與月球之間，有 $M$ 個太空船穿梭其中。
每個太空船會週期性的來回於一些太空站之間（就像公車那樣）。
太空船在任兩個太空站間移動，所需要的時間皆為一分鐘。
第 $i$ 個太空船的容量為 $h_i$，代表可以容納 $h_i$ 個人。
現在有 $k$ 個人在地球，需要透過太空船前往月球。
人可以中途下船，將所有人運往月球需要多久？
地球在 $1$ 號、月球在 $N$ 號太空站。

$1\le N\le 13$
$1\le M\le 20$
$1\le k\le 50$

### 火星探險問題

在一個 $N\times M$ 的棋盤（火星）上，有 $K$ 台探測器在 $(1, 1)$ 的格子上。
一些格子上會有一些岩石標本，岩石標本只能被探測器採集一次。
探測器只能往右或往下移動，必且某些格子上可能有障礙物而無法通過。
請問在最大化到達 $(N, M)$ 的探測器的數量下，它們所採集的標本數量最多是多少？

$1\le N, M, K\le 35$
$0\le 格子上標本數量 \le 10^7$

## Advanced

### 騎士共存問題

給定 $n\times n$ 的棋盤，請問在某些格子不能放的情況下，至多可以放幾個騎士（馬），使得其兩兩互相不攻擊？

$1\le n\le 200$

### 最長 k 可重區間集問題

在一維平面上，給定 $N$ 條開線段，要選一些線段。
要求每條垂直線上至多只能選 $k$ 個線段的條件下，請最大化選到的線段長度和。

$1\le N\le 500$
$1\le k\le 13$

將題目改成二維，請再回答一次。

### 餐巾計畫問題

有一個餐廳，在 $N$ 天之內每天都需要一些毛巾，每個毛巾用過就會變髒。
第 $i$ 天需要的新毛巾數量為 $r_i$。
餐廳可以買新毛巾，一個毛巾要價 $p$ 元。
或者把用過的髒毛巾拿去送洗，有兩種方案：
* 送到慢洗部，洗一個毛巾要花 $n$ 天，費用為 $s$
* 送到快洗部，洗一個毛巾要花 $m$ 天，費用為 $f$
請問這個餐廳在這 $N$ 天內至少要花多少錢？

$1\le N\le 2\times 10^3$
$1\le r_i\le 10^7$
$1\le p, f, s\le 10^4$

## Special

### 太空飛行計畫問題

已知有 $N$ 個實驗與 $M$ 個儀器。
購買第 $i$ 個儀器需要 $c_i$ 元，一個儀器可以使用無限次。
進行第 $i$ 個實驗需要儀器的子集 $r_i$，並且可以獲得 $p_i$ 的利益。
請問如何規劃實驗，才能夠獲得最多的利益？

$1\le N, M\le 50$
$1\le r_i,\ p_i\le 10^9$
$1\le$ 每個實驗所需要的儀器的子集大小 $\le M$

### 作業

你有 $N$ 份數學作業和 $M$ 份國文作業。
每份作業會有個起始時間 $a_i$ 和截止時間 $b_i$。
接下來的 $D$ 天內，你每天需要挑選其中一個科目，若這個科目還有已開始但未到期的作業的話，你就必須挑選其中一份來完成。

請問你最多能夠完成多少作業？
請問你最少需要完成多少作業？